{"version":3,"sources":["api/api.js","components/AccountTable.js","components/TransactionTable.js","components/DateViewTable.js","components/CurrencyTable.js","components/ActivityTable.js","components/firebase.js","App.js","index.js"],"names":["api","axios","create","baseURL","tableIcons","Add","forwardRef","props","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","negativeInRound","x","formatMoney","amount","decimalCount","decimal","thousands","Math","abs","isNaN","negativeSign","i","parseInt","Number","toFixed","toString","j","length","substr","replace","slice","e","console","log","Table","useState","data","setData","iserror","setIserror","errorMessages","setErrorMessages","useEffect","get","then","res","map","balance","current","over_30","over_60","over_90","over_120","catch","error","className","Grid","container","spacing","item","xs","Alert","severity","msg","key","title","columns","field","editable","cellStyle","fontWeight","icons","isEditable","rowData","account_name","isDeletable","onRowUpdate","newData","oldData","Promise","resolve","errorList","patch","_id","dataUpdate","tableData","window","location","reload","handleRowUpdate","onRowAdd","post","dataToAdd","push","handleRowAdd","onRowDelete","delete","dataDelete","index","filter","handleRowDelete","options","exportButton","addRound","accountIds","setaccountIds","type","lookup","Invoice","Payment","Credit","Memo","Adjustment","accountId","setaccountId","startDate","setstartDate","endDate","setendDate","TextField","required","id","label","onChange","target","value","utils","DateFnsUtils","disableToolbar","variant","format","margin","date","KeyboardButtonProps","Button","color","href","onClick","true","false","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","createProfile","user_name","user_email","user_password","user_role","uid","db","collection","doc","set","deleteProfile","app","initializeApp","this","auth","firestore","bind","onAuthStateChanged","email","password","signInWithEmailAndPassword","result","signOut","where","empty","docs","name","role","createUserWithEmailAndPassword","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","textTransform","App","classes","user","setUser","firebaseInitialized","setfirebaseInitialized","firebase","isInitialized","val","findUser","AppBar","position","Toolbar","style","display","justify","alignItems","activeClassName","to","textDecoration","path","AccountTable","TransactionTable","DateViewTable","CurrencyTable","ActivityTable","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b6bcfc8b.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n\tbaseURL: `https://finance-react-app.azurewebsites.net/api`,\r\n\t// baseURL: `http://localhost:3000/api`,\r\n});\r\n\r\nexport default api;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nfunction negativeInRound(x) {\r\n\treturn \"(\" + x + \")\";\r\n}\r\n\r\nconst formatMoney = (\r\n\tamount,\r\n\tdecimalCount = 2,\r\n\tdecimal = \".\",\r\n\tthousands = \",\",\r\n) => {\r\n\ttry {\r\n\t\tdecimalCount = Math.abs(decimalCount);\r\n\t\tdecimalCount = isNaN(decimalCount) ? 2 : decimalCount;\r\n\t\tconst negativeSign = amount < 0 ? \"-\" : \"\";\r\n\t\tlet i = parseInt(\r\n\t\t\t(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)),\r\n\t\t).toString();\r\n\t\tlet j = i.length > 3 ? i.length % 3 : 0;\r\n\t\t// return (\r\n\t\t// \tnegativeSign +\r\n\t\t// \t(j ? i.substr(0, j) + thousands : \"\") +\r\n\t\t// \ti.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) +\r\n\t\t// \t(decimalCount\r\n\t\t// \t\t? decimal +\r\n\t\t// \t\t  Math.abs(amount - i)\r\n\t\t// \t\t\t\t.toFixed(decimalCount)\r\n\t\t// \t\t\t\t.slice(2)\r\n\t\t// \t\t: \"\")\r\n\t\t// );\r\n\t\treturn negativeSign === \"-\"\r\n\t\t\t? negativeInRound(\r\n\t\t\t\t\t(j ? i.substr(0, j) + thousands : \"\") +\r\n\t\t\t\t\t\ti\r\n\t\t\t\t\t\t\t.substr(j)\r\n\t\t\t\t\t\t\t.replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) +\r\n\t\t\t\t\t\t(decimalCount\r\n\t\t\t\t\t\t\t? decimal +\r\n\t\t\t\t\t\t\t  Math.abs(amount - i)\r\n\t\t\t\t\t\t\t\t\t.toFixed(decimalCount)\r\n\t\t\t\t\t\t\t\t\t.slice(2)\r\n\t\t\t\t\t\t\t: \"\"),\r\n\t\t\t  )\r\n\t\t\t: negativeSign +\r\n\t\t\t\t\t(j ? i.substr(0, j) + thousands : \"\") +\r\n\t\t\t\t\ti.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) +\r\n\t\t\t\t\t(decimalCount\r\n\t\t\t\t\t\t? decimal +\r\n\t\t\t\t\t\t  Math.abs(amount - i)\r\n\t\t\t\t\t\t\t\t.toFixed(decimalCount)\r\n\t\t\t\t\t\t\t\t.slice(2)\r\n\t\t\t\t\t\t: \"\");\r\n\t} catch (e) {\r\n\t\tconsole.log(e);\r\n\t}\r\n};\r\n\r\nfunction Table() {\r\n\tvar columns = [\r\n\t\t{ title: \"Account ID\", field: \"account_id\" },\r\n\t\t{ title: \"Account Name\", field: \"account_name\" },\r\n\t\t{\r\n\t\t\ttitle: \"Balance\",\r\n\t\t\tfield: \"balance\",\r\n\t\t\teditable: \"never\",\r\n\t\t\tcellStyle: {\r\n\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ title: \"Current\", field: \"current\", editable: \"never\" },\r\n\t\t{ title: \"Over 30\", field: \"over_30\", editable: \"never\" },\r\n\t\t{ title: \"Over 60\", field: \"over_60\", editable: \"never\" },\r\n\t\t{ title: \"Over 90\", field: \"over_90\", editable: \"never\" },\r\n\t\t{ title: \"Over 120\", field: \"over_120\", editable: \"never\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/accounts\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.map((x) => {\r\n\t\t\t\t\tx.balance = formatMoney(x.balance);\r\n\t\t\t\t\tx.current = formatMoney(x.current);\r\n\t\t\t\t\tx.over_30 = formatMoney(x.over_30);\r\n\t\t\t\t\tx.over_60 = formatMoney(x.over_60);\r\n\t\t\t\t\tx.over_90 = formatMoney(x.over_90);\r\n\t\t\t\t\tx.over_120 = formatMoney(x.over_120);\r\n\t\t\t\t});\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/accounts/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/accounts\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/accounts/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Accounts Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tisEditable: (rowData) =>\r\n\t\t\t\t\t\t\t\trowData.account_name !== \"All Accounts\",\r\n\t\t\t\t\t\t\tisDeletable: (rowData) =>\r\n\t\t\t\t\t\t\t\trowData.account_name !== \"All Accounts\",\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nfunction negativeInRound(x) {\r\n\treturn \"(\" + x + \")\";\r\n}\r\n\r\nconst formatMoney = (\r\n\tamount,\r\n\tdecimalCount = 2,\r\n\tdecimal = \".\",\r\n\tthousands = \",\",\r\n\taddRound = false,\r\n) => {\r\n\ttry {\r\n\t\tdecimalCount = Math.abs(decimalCount);\r\n\t\tdecimalCount = isNaN(decimalCount) ? 2 : decimalCount;\r\n\t\tconst negativeSign = amount < 0 ? \"-\" : \"\";\r\n\t\tlet i = parseInt(\r\n\t\t\t(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)),\r\n\t\t).toString();\r\n\t\tlet j = i.length > 3 ? i.length % 3 : 0;\r\n\t\t// return (\r\n\t\t// \tnegativeSign +\r\n\t\t// \t(j ? i.substr(0, j) + thousands : \"\") +\r\n\t\t// \ti.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) +\r\n\t\t// \t(decimalCount\r\n\t\t// \t\t? decimal +\r\n\t\t// \t\t  Math.abs(amount - i)\r\n\t\t// \t\t\t\t.toFixed(decimalCount)\r\n\t\t// \t\t\t\t.slice(2)\r\n\t\t// \t\t: \"\")\r\n\t\t// );\r\n\t\treturn negativeSign === \"-\" || addRound\r\n\t\t\t? negativeInRound(\r\n\t\t\t\t\t(j ? i.substr(0, j) + thousands : \"\") +\r\n\t\t\t\t\t\ti\r\n\t\t\t\t\t\t\t.substr(j)\r\n\t\t\t\t\t\t\t.replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) +\r\n\t\t\t\t\t\t(decimalCount\r\n\t\t\t\t\t\t\t? decimal +\r\n\t\t\t\t\t\t\t  Math.abs(amount - i)\r\n\t\t\t\t\t\t\t\t\t.toFixed(decimalCount)\r\n\t\t\t\t\t\t\t\t\t.slice(2)\r\n\t\t\t\t\t\t\t: \"\"),\r\n\t\t\t  )\r\n\t\t\t: negativeSign +\r\n\t\t\t\t\t(j ? i.substr(0, j) + thousands : \"\") +\r\n\t\t\t\t\ti.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) +\r\n\t\t\t\t\t(decimalCount\r\n\t\t\t\t\t\t? decimal +\r\n\t\t\t\t\t\t  Math.abs(amount - i)\r\n\t\t\t\t\t\t\t\t.toFixed(decimalCount)\r\n\t\t\t\t\t\t\t\t.slice(2)\r\n\t\t\t\t\t\t: \"\");\r\n\t} catch (e) {\r\n\t\tconsole.log(e);\r\n\t}\r\n};\r\n\r\nfunction Table() {\r\n\tvar lookup = {\r\n\t\tInvoice: \"Invoice\",\r\n\t\tPayment: \"Payment\",\r\n\t\tCredit: \"Credit\",\r\n\t\tMemo: \"Memo\",\r\n\t\tAdjustment: \"Adjustment\",\r\n\t};\r\n\r\n\tconst [data, setData] = useState([]); //table data\r\n\tconst [accountIds, setaccountIds] = useState();\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/accountIds\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(\"res\", res);\r\n\t\t\t\tsetaccountIds(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t\tapi.get(\"/transactions\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.map((x) => {\r\n\t\t\t\t\tx.balance = formatMoney(x.balance);\r\n\r\n\t\t\t\t\tx.amount =\r\n\t\t\t\t\t\tx.type === \"Payment\" || x.type === \"Credit\"\r\n\t\t\t\t\t\t\t? formatMoney(x.amount, 2, \".\", \",\", true)\r\n\t\t\t\t\t\t\t: x.type === \"Adjustment\" && x.amount < 0\r\n\t\t\t\t\t\t\t? formatMoney(x.amount, 2, \".\", \",\", true)\r\n\t\t\t\t\t\t\t: x.amount;\r\n\t\t\t\t});\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tvar columns = [\r\n\t\t{ title: \"Transaction ID\", field: \"transaction_id\", editable: \"never\" },\r\n\t\t{ title: \"Date\", field: \"date\", type: \"date\" },\r\n\t\t{ title: \"Account ID\", field: \"account_id\", lookup: accountIds },\r\n\t\t{ title: \"Ref 1\", field: \"ref_1\" },\r\n\t\t{ title: \"Ref 2\", field: \"ref_2\" },\r\n\t\t{ title: \"Account Name\", field: \"account_name\" },\r\n\t\t{ title: \"Type\", field: \"type\", lookup: lookup },\r\n\t\t{ title: \"Amount\", field: \"amount\", type: \"number\" },\r\n\t\t{ title: \"Currency\", field: \"currency\" },\r\n\t\t{ title: \"USD\", field: \"usd\" },\r\n\t\t{ title: \"Notes\", field: \"notes\" },\r\n\t\t{\r\n\t\t\ttitle: \"Balance\",\r\n\t\t\tfield: \"balance\",\r\n\t\t\teditable: \"never\",\r\n\t\t\tcellStyle: {\r\n\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\r\n\tconsole.log(accountIds);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/transactions/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/transactions\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/transactions/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Transactions Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\t// onRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t// \tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t// \t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t// \t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport {\r\n\tMuiPickersUtilsProvider,\r\n\tKeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nfunction Table() {\r\n\tvar lookup = {\r\n\t\tInvoice: \"Invoice\",\r\n\t\tPayment: \"Payment\",\r\n\t\tCredit: \"Credit\",\r\n\t\tMemo: \"Memo\",\r\n\t\tAdjustment: \"Adjustment\",\r\n\t};\r\n\tvar columns = [\r\n\t\t{ title: \"Transaction ID\", field: \"transaction_id\" },\r\n\t\t{ title: \"Date\", field: \"date\", type: \"date\" },\r\n\t\t{ title: \"Account ID\", field: \"account_id\" },\r\n\t\t{ title: \"Ref 1\", field: \"ref_1\" },\r\n\t\t{ title: \"Ref 2\", field: \"ref_2\" },\r\n\t\t{ title: \"Account Name\", field: \"account_name\" },\r\n\t\t{ title: \"Type\", field: \"type\", lookup: lookup },\r\n\t\t{ title: \"Amount\", field: \"amount\", type: \"number\" },\r\n\t\t{ title: \"Currency\", field: \"currency\" },\r\n\t\t{ title: \"USD\", field: \"usd\" },\r\n\t\t{ title: \"Notes\", field: \"notes\" },\r\n\t\t{ title: \"Balance\", field: \"balance\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\tconst [accountId, setaccountId] = useState();\r\n\tconst [startDate, setstartDate] = useState(null);\r\n\tconst [endDate, setendDate] = useState(null);\r\n\r\n\tfunction submitHandler() {\r\n\t\tapi.post(\"/transactionsFilter\", { accountId, startDate, endDate })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<div className=\"account-id\">\r\n\t\t\t\t<TextField\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tid=\"standard-required\"\r\n\t\t\t\t\tlabel=\"Account ID\"\r\n\t\t\t\t\tonChange={(e) => setaccountId(e.target.value)}\r\n\t\t\t\t\tvalue={accountId}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t\t\t<KeyboardDatePicker\r\n\t\t\t\t\t\tdisableToolbar\r\n\t\t\t\t\t\tvariant=\"inline\"\r\n\t\t\t\t\t\tformat=\"MM/dd/yyyy\"\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\tid=\"date-picker-inline\"\r\n\t\t\t\t\t\tlabel=\"Start Date\"\r\n\t\t\t\t\t\tvalue={startDate}\r\n\t\t\t\t\t\tonChange={(date) => setstartDate(date)}\r\n\t\t\t\t\t\tKeyboardButtonProps={{\r\n\t\t\t\t\t\t\t\"aria-label\": \"change date\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KeyboardDatePicker\r\n\t\t\t\t\t\tdisableToolbar\r\n\t\t\t\t\t\tvariant=\"inline\"\r\n\t\t\t\t\t\tformat=\"MM/dd/yyyy\"\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\tid=\"date-picker-inline\"\r\n\t\t\t\t\t\tlabel=\"End Date\"\r\n\t\t\t\t\t\tonChange={(date) => setendDate(date)}\r\n\t\t\t\t\t\tvalue={endDate}\r\n\t\t\t\t\t\tKeyboardButtonProps={{\r\n\t\t\t\t\t\t\t\"aria-label\": \"change date\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\thref=\"#contained-buttons\"\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tonClick={submitHandler}\r\n\t\t\t\t>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Date View\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nfunction negativeInRound(x) {\r\n\treturn \"(\" + x + \")\";\r\n}\r\n\r\nconst formatMoney = (\r\n\tamount,\r\n\tdecimalCount = 2,\r\n\tdecimal = \".\",\r\n\tthousands = \",\",\r\n) => {\r\n\ttry {\r\n\t\tdecimalCount = Math.abs(decimalCount);\r\n\t\tdecimalCount = isNaN(decimalCount) ? 2 : decimalCount;\r\n\t\tconst negativeSign = amount < 0 ? \"-\" : \"\";\r\n\t\tlet i = parseInt(\r\n\t\t\t(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)),\r\n\t\t).toString();\r\n\t\tlet j = i.length > 3 ? i.length % 3 : 0;\r\n\t\t// return (\r\n\t\t// \tnegativeSign +\r\n\t\t// \t(j ? i.substr(0, j) + thousands : \"\") +\r\n\t\t// \ti.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) +\r\n\t\t// \t(decimalCount\r\n\t\t// \t\t? decimal +\r\n\t\t// \t\t  Math.abs(amount - i)\r\n\t\t// \t\t\t\t.toFixed(decimalCount)\r\n\t\t// \t\t\t\t.slice(2)\r\n\t\t// \t\t: \"\")\r\n\t\t// );\r\n\t\treturn negativeSign === \"-\"\r\n\t\t\t? negativeInRound(\r\n\t\t\t\t\t(j ? i.substr(0, j) + thousands : \"\") +\r\n\t\t\t\t\t\ti\r\n\t\t\t\t\t\t\t.substr(j)\r\n\t\t\t\t\t\t\t.replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) +\r\n\t\t\t\t\t\t(decimalCount\r\n\t\t\t\t\t\t\t? decimal +\r\n\t\t\t\t\t\t\t  Math.abs(amount - i)\r\n\t\t\t\t\t\t\t\t\t.toFixed(decimalCount)\r\n\t\t\t\t\t\t\t\t\t.slice(2)\r\n\t\t\t\t\t\t\t: \"\"),\r\n\t\t\t  )\r\n\t\t\t: negativeSign +\r\n\t\t\t\t\t(j ? i.substr(0, j) + thousands : \"\") +\r\n\t\t\t\t\ti.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) +\r\n\t\t\t\t\t(decimalCount\r\n\t\t\t\t\t\t? decimal +\r\n\t\t\t\t\t\t  Math.abs(amount - i)\r\n\t\t\t\t\t\t\t\t.toFixed(decimalCount)\r\n\t\t\t\t\t\t\t\t.slice(2)\r\n\t\t\t\t\t\t: \"\");\r\n\t} catch (e) {\r\n\t\tconsole.log(e);\r\n\t}\r\n};\r\n\r\nfunction Table() {\r\n\tvar lookup = { true: \"Yes\", false: \"No\" };\r\n\tvar columns = [\r\n\t\t{ title: \"Currency ID\", field: \"currency_id\" },\r\n\t\t{ title: \"Exchange Rate\", field: \"exchange_rate\" },\r\n\r\n\t\t{ title: \"Base\", field: \"base\", lookup: lookup },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/currencies\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/currencies/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/currencies\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/currencies/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Currency Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nfunction Table() {\r\n\tvar columns = [\r\n\t\t{ title: \"Account ID\", field: \"account_id\" },\r\n\t\t{ title: \"Last Invoice\", field: \"invoice_date\", type: \"date\" },\r\n\t\t{ title: \"Last Payment\", field: \"payment_date\", type: \"date\" },\r\n\t\t{ title: \"Last Credit\", field: \"credit_date\", type: \"date\" },\r\n\t\t{ title: \"Last Adjustment\", field: \"adjustment_date\", type: \"date\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/activities\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Activity Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React from \"react\";\r\nimport app from \"firebase/app\";\r\nimport firebase from \"firebase\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firebase-firestore\";\r\n\r\nconst config = {\r\n\tapiKey: \"AIzaSyD4XmQJ-ktvr5HbwtX5_rIGzVGQLWYpLSY\",\r\n\tauthDomain: \"react-table-app.firebaseapp.com\",\r\n\tprojectId: \"react-table-app\",\r\n\tstorageBucket: \"react-table-app.appspot.com\",\r\n\tmessagingSenderId: \"256308264854\",\r\n\tappId: \"1:256308264854:web:7a34d9b0a9cb99eded67b7\",\r\n};\r\n\r\nclass Firebase {\r\n\tconstructor() {\r\n\t\tif (typeof window !== \"undefined\") {\r\n\t\t\t// \tif (!firebase.apps.length) {\r\n\t\t\tapp.initializeApp(config);\r\n\t\t\tthis.auth = app.auth();\r\n\r\n\t\t\tthis.db = app.firestore();\r\n\t\t\tthis.createProfile = this.createProfile.bind(this);\r\n\t\t\t// \t}\r\n\t\t}\r\n\t}\r\n\r\n\tisInitialized() {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tthis.auth.onAuthStateChanged(resolve);\r\n\t\t});\r\n\t}\r\n\r\n\tasync login(email, password) {\r\n\t\tawait this.auth\r\n\t\t\t.signInWithEmailAndPassword(email, password)\r\n\t\t\t.then(function (result) {\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\tconsole.log(\"Success. User Logged In\");\r\n\t\t\t});\r\n\t}\r\n\r\n\tlogout() {\r\n\t\treturn this.auth.signOut();\r\n\t}\r\n\r\n\tcreateProfile = (user_name, user_email, user_password, user_role, uid) => {\r\n\t\treturn this.db\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.doc(uid)\r\n\t\t\t.set({\r\n\t\t\t\tuser_name,\r\n\t\t\t\tuser_email,\r\n\t\t\t\tuser_password,\r\n\t\t\t\tuser_role,\r\n\t\t\t})\r\n\t\t\t.catch(console.error);\r\n\t};\r\n\r\n\tdeleteProfile = (uid) => {\r\n\t\tthis.db\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.doc(uid)\r\n\t\t\t.delete()\r\n\t\t\t.then(function () {\r\n\t\t\t\tconsole.log(\"Document successfully deleted!\");\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\t\tconsole.error(\"Error removing document: \", error);\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync findUser(email) {\r\n\t\tvar collection = this.db.collection(\"users\");\r\n\r\n\t\tconst result = await collection.where(\"user_email\", \"==\", email).get();\r\n\t\tif (result.empty) {\r\n\t\t\tconsole.log(\"No matching documents.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//console.log(\"result\", result.docs[0].id);\r\n\t\treturn result.docs[0].data();\r\n\t\t// result.forEach((doc) => {\r\n\t\t// \tconsole.log(doc.id, \"=>\", doc.data());\r\n\t\t// });\r\n\t}\r\n\r\n\tasync register(name, email, password, role) {\r\n\t\tvar result = await this.auth\r\n\t\t\t.createUserWithEmailAndPassword(email, password)\r\n\t\t\t.then(function (result) {\r\n\t\t\t\t//console.log(result);\r\n\t\t\t\treturn result;\r\n\t\t\t});\r\n\t\treturn result;\r\n\t\t// return this.auth.currentUser.updateProfile({\r\n\t\t// \tdisplayName: name,\r\n\t\t// });\r\n\t}\r\n}\r\n\r\nexport default new Firebase();\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport \"./App.css\";\r\n\r\nimport AccountTable from \"./components/AccountTable\";\r\nimport TransactionTable from \"./components/TransactionTable\";\r\nimport DateViewTable from \"./components/DateViewTable\";\r\nimport CurrencyTable from \"./components/CurrencyTable\";\r\nimport ActivityTable from \"./components/ActivityTable\";\r\n\r\nimport {\r\n\tBrowserRouter as Router,\r\n\tSwitch,\r\n\tRoute,\r\n\tNavLink,\r\n\tuseLocation,\r\n\tuseHistory,\r\n} from \"react-router-dom\";\r\n\r\nimport firebase from \"./components/firebase\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\ttitle: {\r\n\t\tflexGrow: 1,\r\n\t\ttextTransform: \"lowercase\",\r\n\t},\r\n}));\r\n\r\nfunction App() {\r\n\tconst classes = useStyles();\r\n\tconst [user, setUser] = useState();\r\n\tconst [firebaseInitialized, setfirebaseInitialized] = useState();\r\n\tvar result;\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.isInitialized().then((val) => {\r\n\t\t\tif (val) {\r\n\t\t\t\tsetfirebaseInitialized(val);\r\n\t\t\t} else {\r\n\t\t\t\tsetfirebaseInitialized(false);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firebaseInitialized && firebaseInitialized !== false) {\r\n\t\t\tresult = firebase.findUser(firebaseInitialized.email);\r\n\t\t\tresult.then(function (res) {\r\n\t\t\t\tsetUser(res);\r\n\t\t\t});\r\n\t\t}\r\n\t}, [firebaseInitialized]);\r\n\r\n\tconsole.log(user);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t<Toolbar>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tstyle={{ display: \"flex\" }}\r\n\t\t\t\t\t\tjustify=\"space-between\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={0}\r\n\t\t\t\t\t\tclassName={classes.title}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tactiveClassName=\"active-link\"\r\n\t\t\t\t\t\t\t\tto=\"/accounts\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"item\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\ttextTransform: \"initial\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\taccounts\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tactiveClassName=\"active-link\"\r\n\t\t\t\t\t\t\t\tto=\"/transactions\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"item\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\ttextTransform: \"initial\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\ttransactions\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tactiveClassName=\"active-link\"\r\n\t\t\t\t\t\t\t\tto=\"/date-view\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"item\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\ttextTransform: \"initial\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tdate view\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tactiveClassName=\"active-link\"\r\n\t\t\t\t\t\t\t\tto=\"/currencies\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"item\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\ttextTransform: \"initial\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tcurrencies\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tactiveClassName=\"active-link\"\r\n\t\t\t\t\t\t\t\tto=\"/activity\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"item\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\ttextTransform: \"initial\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tactivity\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path=\"/accounts\">\r\n\t\t\t\t\t<AccountTable />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"/transactions\">\r\n\t\t\t\t\t<TransactionTable />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"/date-view\">\r\n\t\t\t\t\t<DateViewTable />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"/currencies\">\r\n\t\t\t\t\t<CurrencyTable />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"/activity\">\r\n\t\t\t\t\t<ActivityTable />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<Router>\r\n\t\t\t<App />\r\n\t\t</Router>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\"),\r\n);\r\n"],"sourceRoot":""}
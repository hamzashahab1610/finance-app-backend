(this["webpackJsonpmaterial-table-api-crud"]=this["webpackJsonpmaterial-table-api-crud"]||[]).push([[0],{177:function(e,t,a){},420:function(e,t,a){e.exports=a(538)},425:function(e,t,a){},426:function(e,t,a){},538:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),i=a.n(c),o=(a(425),a(27)),l=a(76),s=a(566),u=a(563),f=a(288),d=a(143),b=(a(426),a(47)),m=a(98),j=a.n(m),O=a(101),g=a.n(O),E=a(111),h=a.n(E),w=a(102),v=a.n(w),p=a(109),y=a.n(p),R=a(67),S=a.n(R),x=a(66),A=a.n(x),P=a(103),_=a.n(P),k=a(104),D=a.n(k),C=a(106),N=a.n(C),I=a(107),M=a.n(I),T=a(108),F=a.n(T),L=a(112),B=a.n(L),U=a(105),z=a.n(U),V=a(110),$=a.n(V),W=a(113),G=a.n(W),J=a(567),K=a(409),q=a.n(K).a.create({baseURL:"https://finance-react-app.azurewebsites.net/api"}),Q=(a(177),{Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))}))});function X(e){return"("+e+")"}var Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{t=Math.abs(t),t=isNaN(t)?2:t;var r=e<0?"-":"",c=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),i=c.length>3?c.length%3:0;return"-"===r?X((i?c.substr(0,i)+n:"")+c.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?a+Math.abs(e-c).toFixed(t).slice(2):"")):r+(i?c.substr(0,i)+n:"")+c.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?a+Math.abs(e-c).toFixed(t).slice(2):"")}catch(o){console.log(o)}};var H=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),l=Object(o.a)(i,2),s=l[0],f=(l[1],Object(n.useState)(!1)),d=Object(o.a)(f,2),m=d[0],O=d[1],g=Object(n.useState)([]),E=Object(o.a)(g,2),h=E[0],w=E[1],v=Object(n.useState)(),p=Object(o.a)(v,2),y=p[0],R=p[1];return console.log("total",s),Object(n.useEffect)((function(){q.get("/accountIds").then((function(e){console.log("res",e),R(e.data)})).catch((function(e){console.log("Error")})),q.get("/accounts").then((function(e){e.data.allAccounts.map((function(e){e.balance=Y(e.balance),e.current=Y(e.current),e.over_30=Y(e.over_30),e.over_60=Y(e.over_60),e.over_90=Y(e.over_90),e.over_120=Y(e.over_120)})),c(e.data.allAccounts)})).catch((function(e){console.log("Error")}))}),[]),r.a.createElement("div",{className:"table"},r.a.createElement(u.a,{container:!0,spacing:1},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement("div",null,m&&r.a.createElement(J.a,{severity:"error"},h.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(j.a,{title:"Accounts Table",columns:[{title:"Account ID",field:"account_id",type:"numeric"},{title:"Account Name",field:"account_name"},{title:"Balance",field:"balance",editable:"never",cellStyle:{fontWeight:"bold",textAlign:"right"}},{title:"Current",field:"current",editable:"never",cellStyle:{textAlign:"right"}},{title:"Over 30",field:"over_30",editable:"never",cellStyle:{textAlign:"right"}},{title:"Over 60",field:"over_60",editable:"never",cellStyle:{textAlign:"right"}},{title:"Over 90",field:"over_90",editable:"never",cellStyle:{textAlign:"right"}},{title:"Over 120",field:"over_120",editable:"never",cellStyle:{textAlign:"right"}}],data:a,icons:Q,editable:{isEditable:function(e){return"All Accounts"!==e.account_name},isDeletable:function(e){return"All Accounts"!==e.account_name},onRowUpdate:function(e,t){return new Promise((function(n){!function(e,t,n){var r=[];-1!==Object.keys(y).indexOf(e.account_id)&&r.push("This account id already exists. Please try new one."),r.length<1?q.patch("/accounts/"+e._id,e).then((function(r){var i=Object(b.a)(a);i[t.tableData._id]=e,c(Object(b.a)(i)),n(),window.location.reload(!1),O(!1),w([])})).catch((function(e){w(["Update failed! Server error"]),O(!0),n()})):(w(r),O(!0),n())}(e,t,n)}))},onRowAdd:function(e){return new Promise((function(t){!function(e,t){var n=[];-1!==Object.keys(y).indexOf(e.account_id)&&n.push("This account id already exists. Please try new one."),n.length<1?q.post("/accounts",e).then((function(n){var r=Object(b.a)(a);r.push(e),c(r),t(),window.location.reload(!1),w([]),O(!1)})).catch((function(e){w(["Cannot add data. Server error!"]),O(!0),t()})):(w(n),O(!0),t())}(e,t)}))},onRowDelete:function(e){return new Promise((function(t){!function(e,t){q.delete("/accounts/"+e._id).then((function(n){var r=Object(b.a)(a),i=e.tableData._id,o=r.filter((function(e){return e._id!==i}));c(Object(b.a)(o)),t(),window.location.reload(!1)})).catch((function(e){w(["Delete failed! Server error"]),O(!0),t()}))}(e,t)}))}},options:{exportButton:!0}}))))},Z={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))}))};function ee(e){return"("+e+")"}var te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{t=Math.abs(t),t=isNaN(t)?2:t;var c=e<0?"-":"",i=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),o=i.length>3?i.length%3:0;return"-"===c||r?ee((o?i.substr(0,o)+n:"")+i.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?a+Math.abs(e-i).toFixed(t).slice(2):"")):c+(o?i.substr(0,o)+n:"")+i.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?a+Math.abs(e-i).toFixed(t).slice(2):"")}catch(l){console.log(l)}};var ae=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),l=Object(o.a)(i,2),s=l[0],f=l[1],d=Object(n.useState)(!1),m=Object(o.a)(d,2),O=m[0],g=m[1],E=Object(n.useState)([]),h=Object(o.a)(E,2),w=h[0],v=h[1];Object(n.useEffect)((function(){q.get("/accountIds").then((function(e){console.log("res",e),f(e.data)})).catch((function(e){console.log("Error")})),q.get("/transactions").then((function(e){e.data.map((function(e){e.balance=te(e.balance),e.amount="Payment"===e.type||"Credit"===e.type||"Adjustment"===e.type&&e.amount<0?te(e.amount,2,".",",",!0):te(e.amount,2,".",",",!1)})),c(e.data)})).catch((function(e){console.log("Error")}))}),[]);var p=[{title:"Transaction ID",field:"transaction_id",editable:"never",cellStyle:{textAlign:"right"}},{title:"Date",field:"date",type:"date"},{title:"Account ID",field:"account_id",lookup:s,cellStyle:{textAlign:"right"}},{title:"Ref 1",field:"ref_1"},{title:"Ref 2",field:"ref_2"},{title:"Account Name",field:"account_name"},{title:"Type",field:"type",lookup:{Invoice:"Invoice",Payment:"Payment",Credit:"Credit",Memo:"Memo",Adjustment:"Adjustment"}},{title:"Amount",field:"amount",type:"number",cellStyle:{textAlign:"right"}},{title:"Notes",field:"notes"}];return r.a.createElement("div",{className:"table"},r.a.createElement(u.a,{container:!0,spacing:1},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement("div",null,O&&r.a.createElement(J.a,{severity:"error"},w.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(j.a,{title:"Transactions Table",columns:p,data:a,icons:Z,editable:{onRowAdd:function(e){return new Promise((function(t){!function(e,t){var n=[];void 0===e.date&&n.push("Please enter date"),void 0===e.account_id&&n.push("Please enter account_id"),void 0===e.type&&n.push("Please enter type"),void 0===e.amount&&n.push("Please enter valid amount"),n.length<1?q.post("/transactions",e).then((function(n){var r=Object(b.a)(a);r.push(e),c(r),t(),window.location.reload(!1),v([]),g(!1)})).catch((function(e){v(["Cannot add data. Server error!"]),g(!0),t()})):(v(n),g(!0),t())}(e,t)}))},onRowDelete:function(e){return new Promise((function(t){!function(e,t){q.delete("/transactions/"+e._id).then((function(n){var r=Object(b.a)(a),i=e.tableData._id,o=r.filter((function(e){return e._id!==i}));c(Object(b.a)(o)),t(),window.location.reload(!1)})).catch((function(e){v(["Delete failed! Server error"]),g(!0),t()}))}(e,t)}))}},options:{exportButton:!0}}))))},ne=a(241),re=a(227),ce=a(28),ie=a(281),oe={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))}))};function le(e){return"("+e+")"}var se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{t=Math.abs(t),t=isNaN(t)?2:t;var c=e<0?"-":"",i=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),o=i.length>3?i.length%3:0;return"-"===c||r?le((o?i.substr(0,o)+n:"")+i.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?a+Math.abs(e-i).toFixed(t).slice(2):"")):c+(o?i.substr(0,o)+n:"")+i.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?a+Math.abs(e-i).toFixed(t).slice(2):"")}catch(l){console.log(l)}};var ue=function(){var e=[{title:"Transaction ID",field:"transaction_id",cellStyle:{textAlign:"right"}},{title:"Date",field:"date",type:"date"},{title:"Account ID",field:"account_id",cellStyle:{textAlign:"right"}},{title:"Ref 1",field:"ref_1"},{title:"Ref 2",field:"ref_2"},{title:"Account Name",field:"account_name"},{title:"Type",field:"type",lookup:{Invoice:"Invoice",Payment:"Payment",Credit:"Credit",Memo:"Memo",Adjustment:"Adjustment"}},{title:"Amount",field:"amount",type:"number",cellStyle:{textAlign:"right"}},{title:"Notes",field:"notes"},{title:"Balance",field:"balance",cellStyle:{fontWeight:"bold"}}],t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),s=Object(o.a)(l,2),f=s[0],b=(s[1],Object(n.useState)([])),m=Object(o.a)(b,2),O=m[0],g=(m[1],Object(n.useState)()),E=Object(o.a)(g,2),h=E[0],w=E[1],v=Object(n.useState)(null),p=Object(o.a)(v,2),y=p[0],R=p[1],S=Object(n.useState)(null),x=Object(o.a)(S,2),A=x[0],P=x[1];return r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"account-id"},r.a.createElement(ne.a,{required:!0,id:"standard-required",label:"Account ID",onChange:function(e){return w(e.target.value)},value:h}),r.a.createElement(ce.a,{utils:re.default},r.a.createElement(ie.b,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Start Date",value:y,onChange:function(e){return R(e)},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(ie.b,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"End Date",onChange:function(e){return P(e)},value:A,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(d.a,{variant:"contained",color:"primary",href:"#contained-buttons",type:"submit",onClick:function(){q.post("/transactionsFilter",{accountId:h,startDate:y,endDate:A}).then((function(e){e.data.map((function(e){e.balance=se(e.balance),e.amount="Payment"===e.type||"Credit"===e.type||"Adjustment"===e.type&&e.amount<0?se(e.amount,2,".",",",!0):se(e.amount,2,".",",",!1)})),i(e.data)})).catch((function(e){console.log("Error")}))}},"Submit")),r.a.createElement(u.a,{container:!0,spacing:1},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement("div",null,f&&r.a.createElement(J.a,{severity:"error"},O.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(j.a,{title:"Date View",columns:e,data:c,icons:oe,options:{exportButton:!0}}))))};Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(h.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))}));var fe={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))}))};var de=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),l=Object(o.a)(i,2),s=l[0],f=(l[1],Object(n.useState)([])),d=Object(o.a)(f,2),b=d[0];return d[1],Object(n.useEffect)((function(){q.get("/activities").then((function(e){c(e.data)})).catch((function(e){console.log("Error")}))}),[]),r.a.createElement("div",{className:"table"},r.a.createElement(u.a,{container:!0,spacing:1},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement("div",null,s&&r.a.createElement(J.a,{severity:"error"},b.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(j.a,{title:"Activity Table",columns:[{title:"Account ID",field:"account_id"},{title:"Last Invoice",field:"invoice_date",type:"date"},{title:"Last Payment",field:"payment_date",type:"date"},{title:"Last Credit",field:"credit_date",type:"date"},{title:"Last Adjustment",field:"adjustment_date",type:"date"}],data:a,icons:fe,options:{exportButton:!0}}))))},be=a(144),me=a(38),je=a(145),Oe=a.n(je),ge=a(252),Ee=a(410),he=a(411),we=a(253),ve=(a(537),a(534),a(535),{apiKey:"AIzaSyD4XmQJ-ktvr5HbwtX5_rIGzVGQLWYpLSY",authDomain:"react-table-app.firebaseapp.com",projectId:"react-table-app",storageBucket:"react-table-app.appspot.com",messagingSenderId:"256308264854",appId:"1:256308264854:web:7a34d9b0a9cb99eded67b7"}),pe=new(function(){function e(){var t=this;Object(Ee.a)(this,e),this.createProfile=function(e,a,n,r,c){return t.db.collection("users").doc(c).set({user_name:e,user_email:a,user_password:n,user_role:r}).catch(console.error)},this.deleteProfile=function(e){t.db.collection("users").doc(e).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))},"undefined"!==typeof window&&(we.a.initializeApp(ve),this.auth=we.a.auth(),this.db=we.a.firestore(),this.createProfile=this.createProfile.bind(this))}return Object(he.a)(e,[{key:"isInitialized",value:function(){var e=this;return new Promise((function(t){e.auth.onAuthStateChanged(t)}))}},{key:"login",value:function(){var e=Object(ge.a)(Oe.a.mark((function e(t,a){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.signInWithEmailAndPassword(t,a).then((function(e){console.log(e),console.log("Success. User Logged In")}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"logout",value:function(){return this.auth.signOut()}},{key:"findUser",value:function(){var e=Object(ge.a)(Oe.a.mark((function e(t){var a,n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.db.collection("users"),e.next=3,a.where("user_email","==",t).get();case 3:if(!(n=e.sent).empty){e.next=7;break}return console.log("No matching documents."),e.abrupt("return");case 7:return e.abrupt("return",n.docs[0].data());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(ge.a)(Oe.a.mark((function e(t,a,n,r){var c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.createUserWithEmailAndPassword(a,n).then((function(e){return e}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),e}()),ye=Object(l.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textTransform:"lowercase"}}}));var Re=function(){var e=ye(),t=Object(n.useState)(),a=Object(o.a)(t,2),c=(a[0],a[1]),i=Object(n.useState)(),l=Object(o.a)(i,2),b=l[0],m=l[1];return Object(n.useEffect)((function(){pe.isInitialized().then((function(e){m(e||!1)}))})),Object(n.useEffect)((function(){b&&!1!==b&&pe.findUser(b.email).then((function(e){c(e)}))}),[b]),r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{position:"static"},r.a.createElement(f.a,null,r.a.createElement(u.a,{style:{display:"flex"},justify:"space-between",alignItems:"center",container:!0,spacing:0,className:e.title},r.a.createElement(u.a,{item:!0},r.a.createElement(be.b,{activeClassName:"active-link",to:"/accounts",style:{textDecoration:"none",color:"white"}},r.a.createElement(d.a,{color:"inherit",className:"item",style:{textTransform:"initial"}},"accounts")),r.a.createElement(be.b,{activeClassName:"active-link",to:"/transactions",style:{textDecoration:"none",color:"white"}},r.a.createElement(d.a,{color:"inherit",className:"item",style:{textTransform:"initial"}},"transactions")),r.a.createElement(be.b,{activeClassName:"active-link",to:"/date-view",style:{textDecoration:"none",color:"white"}},r.a.createElement(d.a,{color:"inherit",className:"item",style:{textTransform:"initial"}},"date view")),r.a.createElement(be.b,{activeClassName:"active-link",to:"/activity",style:{textDecoration:"none",color:"white"}},r.a.createElement(d.a,{color:"inherit",className:"item",style:{textTransform:"initial"}},"activity")))))),r.a.createElement(me.c,null,r.a.createElement(me.a,{path:"/accounts"},r.a.createElement(H,null)),r.a.createElement(me.a,{path:"/transactions"},r.a.createElement(ae,null)),r.a.createElement(me.a,{path:"/date-view"},r.a.createElement(ue,null)),r.a.createElement(me.a,{path:"/activity"},r.a.createElement(de,null))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be.a,null,r.a.createElement(Re,null))),document.getElementById("root"))}},[[420,1,2]]]);
//# sourceMappingURL=main.bcc06814.chunk.js.map
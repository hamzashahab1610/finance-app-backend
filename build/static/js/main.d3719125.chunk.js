(this["webpackJsonpmaterial-table-api-crud"]=this["webpackJsonpmaterial-table-api-crud"]||[]).push([[0],{382:function(e,t,n){},409:function(e,t,n){e.exports=n(527)},414:function(e,t,n){},415:function(e,t,n){},527:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),i=n.n(c),o=(n(414),n(79)),u=n(361),s=n(556),f=n(553),l=n(343),d=n(362),b=(n(415),n(74)),m=n(198),O=n.n(m),j=n(216),h=n.n(j),w=n(226),p=n.n(w),E=n(217),g=n.n(E),v=n(224),R=n.n(v),y=n(139),S=n.n(y),_=n(138),P=n.n(_),x=n(218),A=n.n(x),D=n(219),k=n.n(D),C=n(221),I=n.n(C),N=n(222),T=n.n(N),U=n(223),L=n.n(U),z=n(227),B=n.n(z),F=n(220),G=n.n(F),J=n(225),M=n.n(J),V=n(228),W=n.n(V),Q=n(557),X=n(398),Y=n.n(X).a.create({baseURL:"https://finance-react-app.azurewebsites.net/api"}),H=(n(382),{Add:Object(a.forwardRef)((function(e,t){return r.a.createElement(h.a,Object.assign({},e,{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return r.a.createElement(P.a,Object.assign({},e,{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return r.a.createElement(P.a,Object.assign({},e,{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))}))});var K=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),u=Object(o.a)(i,2),s=u[0],l=u[1],d=Object(a.useState)([]),m=Object(o.a)(d,2),j=m[0],h=m[1];return Object(a.useEffect)((function(){Y.get("/accounts").then((function(e){c(e.data)})).catch((function(e){console.log("Error")}))}),[]),r.a.createElement("div",{className:"table"},r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement("div",null,s&&r.a.createElement(Q.a,{severity:"error"},j.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(O.a,{title:"Accounts Table",columns:[{title:"Account ID",field:"account_id"},{title:"Account Name",field:"account_name"},{title:"Balance",field:"balance"},{title:"Current",field:"current"},{title:"Over 30",field:"over_30"},{title:"Over 60",field:"over_60"},{title:"Over 90",field:"over_90"},{title:"Over 120",field:"over_120"}],data:n,icons:H,editable:{isEditable:function(e){return"ALL ACCOUNTS"!==e.account_name},isDeletable:function(e){return"ALL ACCOUNTS"!==e.account_name},onRowUpdate:function(e,t){return new Promise((function(a){!function(e,t,a){var r=[];r.length<1?Y.patch("/accounts/"+e._id,e).then((function(r){var i=Object(b.a)(n);i[t.tableData._id]=e,c(Object(b.a)(i)),a(),window.location.reload(!1),l(!1),h([])})).catch((function(e){h(["Update failed! Server error"]),l(!0),a()})):(h(r),l(!0),a())}(e,t,a)}))},onRowAdd:function(e){return new Promise((function(t){!function(e,t){var a=[];a.length<1?Y.post("/accounts",e).then((function(a){var r=Object(b.a)(n);r.push(e),c(r),t(),window.location.reload(!1),h([]),l(!1)})).catch((function(e){h(["Cannot add data. Server error!"]),l(!0),t()})):(h(a),l(!0),t())}(e,t)}))},onRowDelete:function(e){return new Promise((function(t){!function(e,t){Y.delete("/accounts/"+e._id).then((function(a){var r=Object(b.a)(n),i=e.tableData._id,o=r.filter((function(e){return e._id!==i}));c(Object(b.a)(o)),t(),window.location.reload(!1)})).catch((function(e){h(["Delete failed! Server error"]),l(!0),t()}))}(e,t)}))}},options:{exportButton:!0}}))))},q={Add:Object(a.forwardRef)((function(e,t){return r.a.createElement(h.a,Object.assign({},e,{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return r.a.createElement(P.a,Object.assign({},e,{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return r.a.createElement(P.a,Object.assign({},e,{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))}))};var Z=function(){var e=[{title:"Transaction ID",field:"transaction_id"},{title:"Date",field:"date",type:"date"},{title:"Account ID",field:"account_id"},{title:"Ref 1",field:"ref_1"},{title:"Ref 2",field:"ref_2"},{title:"Account Name",field:"account_name"},{title:"Type",field:"type",lookup:{Invoice:"Invoice",Payment:"Payment",Credit:"Credit",Memo:"Memo",Adjustment:"Adjustment"}},{title:"Amount",field:"amount"},{title:"Currency",field:"currency"},{title:"USD",field:"usd"},{title:"Notes",field:"notes"}],t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],i=n[1],u=Object(a.useState)(!1),s=Object(o.a)(u,2),l=s[0],d=s[1],m=Object(a.useState)([]),j=Object(o.a)(m,2),h=j[0],w=j[1];return Object(a.useEffect)((function(){Y.get("/transactions").then((function(e){i(e.data)})).catch((function(e){console.log("Error")}))}),[]),r.a.createElement("div",{className:"table"},r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement("div",null,l&&r.a.createElement(Q.a,{severity:"error"},h.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(O.a,{title:"Transactions Table",columns:e,data:c,icons:q,editable:{onRowUpdate:function(e,t){return new Promise((function(n){!function(e,t,n){var a=[];a.length<1?Y.patch("/transactions/"+e._id,e).then((function(a){var r=Object(b.a)(c);r[t.tableData._id]=e,i(Object(b.a)(r)),n(),window.location.reload(!1),d(!1),w([])})).catch((function(e){w(["Update failed! Server error"]),d(!0),n()})):(w(a),d(!0),n())}(e,t,n)}))},onRowAdd:function(e){return new Promise((function(t){!function(e,t){var n=[];n.length<1?Y.post("/transactions",e).then((function(n){var a=Object(b.a)(c);a.push(e),i(a),t(),window.location.reload(!1),w([]),d(!1)})).catch((function(e){w(["Cannot add data. Server error!"]),d(!0),t()})):(w(n),d(!0),t())}(e,t)}))},onRowDelete:function(e){return new Promise((function(t){!function(e,t){Y.delete("/transactions/"+e._id).then((function(n){var a=Object(b.a)(c),r=e.tableData._id,o=a.filter((function(e){return e._id!==r}));i(Object(b.a)(o)),t(),window.location.reload(!1)})).catch((function(e){w(["Delete failed! Server error"]),d(!0),t()}))}(e,t)}))}},options:{exportButton:!0}}))))},$=n(158),ee=n(34),te=n(118),ne=n.n(te),ae=n(235),re=n(399),ce=n(400),ie=n(236),oe=(n(526),n(523),n(524),{apiKey:"AIzaSyD4XmQJ-ktvr5HbwtX5_rIGzVGQLWYpLSY",authDomain:"react-table-app.firebaseapp.com",projectId:"react-table-app",storageBucket:"react-table-app.appspot.com",messagingSenderId:"256308264854",appId:"1:256308264854:web:7a34d9b0a9cb99eded67b7"}),ue=new(function(){function e(){var t=this;Object(re.a)(this,e),this.createProfile=function(e,n,a,r,c){return t.db.collection("users").doc(c).set({user_name:e,user_email:n,user_password:a,user_role:r}).catch(console.error)},this.deleteProfile=function(e){t.db.collection("users").doc(e).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))},"undefined"!==typeof window&&(ie.a.initializeApp(oe),this.auth=ie.a.auth(),this.db=ie.a.firestore(),this.createProfile=this.createProfile.bind(this))}return Object(ce.a)(e,[{key:"isInitialized",value:function(){var e=this;return new Promise((function(t){e.auth.onAuthStateChanged(t)}))}},{key:"login",value:function(){var e=Object(ae.a)(ne.a.mark((function e(t,n){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.signInWithEmailAndPassword(t,n).then((function(e){console.log(e),console.log("Success. User Logged In")}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){return this.auth.signOut()}},{key:"findUser",value:function(){var e=Object(ae.a)(ne.a.mark((function e(t){var n,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.db.collection("users"),e.next=3,n.where("user_email","==",t).get();case 3:if(!(a=e.sent).empty){e.next=7;break}return console.log("No matching documents."),e.abrupt("return");case 7:return e.abrupt("return",a.docs[0].data());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(ae.a)(ne.a.mark((function e(t,n,a,r){var c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.createUserWithEmailAndPassword(n,a).then((function(e){return e}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()}]),e}()),se=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textTransform:"lowercase"}}}));var fe=function(){var e=se(),t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],i=n[1],u=Object(a.useState)(),b=Object(o.a)(u,2),m=b[0],O=b[1];return Object(a.useEffect)((function(){ue.isInitialized().then((function(e){O(e||!1)}))})),Object(a.useEffect)((function(){m&&!1!==m&&ue.findUser(m.email).then((function(e){i(e)}))}),[m]),console.log(c),r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{position:"static"},r.a.createElement(l.a,null,r.a.createElement(f.a,{style:{display:"flex"},justify:"space-between",alignItems:"center",container:!0,spacing:0,className:e.title},r.a.createElement(f.a,{item:!0},r.a.createElement($.b,{activeClassName:"active-link",to:"/accounts",style:{textDecoration:"none",color:"white"}},r.a.createElement(d.a,{color:"inherit",className:"item",style:{textTransform:"initial"}},"accounts")),r.a.createElement($.b,{activeClassName:"active-link",to:"/transactions",style:{textDecoration:"none",color:"white"}},r.a.createElement(d.a,{color:"inherit",className:"item",style:{textTransform:"initial"}},"transactions")))))),r.a.createElement(ee.c,null,r.a.createElement(ee.a,{path:"/accounts"},r.a.createElement(K,null)),r.a.createElement(ee.a,{path:"/transactions"},r.a.createElement(Z,null))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($.a,null,r.a.createElement(fe,null))),document.getElementById("root"))}},[[409,1,2]]]);
//# sourceMappingURL=main.d3719125.chunk.js.map
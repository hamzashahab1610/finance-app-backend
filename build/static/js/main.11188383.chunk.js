(this["webpackJsonpmaterial-table-api-crud"]=this["webpackJsonpmaterial-table-api-crud"]||[]).push([[0],{283:function(e,t,a){},420:function(e,t,a){e.exports=a(538)},425:function(e,t,a){},426:function(e,t,a){},538:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),i=a.n(c),o=(a(425),a(46)),l=a(74),u=a(566),f=a(563),s=a(287),d=a(129),b=(a(426),a(47)),m=a(140),O=a.n(m),j=a(151),E=a.n(j),g=a(161),w=a.n(g),h=a(152),p=a.n(h),v=a(159),R=a.n(v),y=a(108),S=a.n(y),P=a(107),D=a.n(P),C=a(153),A=a.n(C),_=a(154),k=a.n(_),x=a(156),N=a.n(x),I=a(157),T=a.n(I),B=a(158),L=a.n(B),U=a(162),M=a.n(U),F=a(155),z=a.n(F),V=a(160),G=a.n(V),J=a(163),K=a.n(J),W=a(567),q=a(409),Q=a.n(q).a.create({baseURL:"https://finance-react-app.azurewebsites.net/api"}),X=(a(283),{Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(E.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(w.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(K.a,Object.assign({},e,{ref:t}))}))});var Y=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),l=Object(o.a)(i,2),u=l[0],s=l[1],d=Object(n.useState)([]),m=Object(o.a)(d,2),j=m[0],E=m[1];return Object(n.useEffect)((function(){Q.get("/accounts").then((function(e){c(e.data)})).catch((function(e){console.log("Error")}))}),[]),r.a.createElement("div",{className:"table"},r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement("div",null,u&&r.a.createElement(W.a,{severity:"error"},j.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(O.a,{title:"Accounts Table",columns:[{title:"Account ID",field:"account_id"},{title:"Account Name",field:"account_name"},{title:"Balance",field:"balance",editable:"never"},{title:"Current",field:"current",editable:"never"},{title:"Over 30",field:"over_30",editable:"never"},{title:"Over 60",field:"over_60",editable:"never"},{title:"Over 90",field:"over_90",editable:"never"},{title:"Over 120",field:"over_120",editable:"never"}],data:a,icons:X,editable:{isEditable:function(e){return"ALL ACCOUNTS"!==e.account_name},isDeletable:function(e){return"ALL ACCOUNTS"!==e.account_name},onRowUpdate:function(e,t){return new Promise((function(n){!function(e,t,n){var r=[];r.length<1?Q.patch("/accounts/"+e._id,e).then((function(r){var i=Object(b.a)(a);i[t.tableData._id]=e,c(Object(b.a)(i)),n(),window.location.reload(!1),s(!1),E([])})).catch((function(e){E(["Update failed! Server error"]),s(!0),n()})):(E(r),s(!0),n())}(e,t,n)}))},onRowAdd:function(e){return new Promise((function(t){!function(e,t){var n=[];n.length<1?Q.post("/accounts",e).then((function(n){var r=Object(b.a)(a);r.push(e),c(r),t(),window.location.reload(!1),E([]),s(!1)})).catch((function(e){E(["Cannot add data. Server error!"]),s(!0),t()})):(E(n),s(!0),t())}(e,t)}))},onRowDelete:function(e){return new Promise((function(t){!function(e,t){Q.delete("/accounts/"+e._id).then((function(n){var r=Object(b.a)(a),i=e.tableData._id,o=r.filter((function(e){return e._id!==i}));c(Object(b.a)(o)),t(),window.location.reload(!1)})).catch((function(e){E(["Delete failed! Server error"]),s(!0),t()}))}(e,t)}))}},options:{exportButton:!0}}))))},H={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(E.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(w.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(K.a,Object.assign({},e,{ref:t}))}))};var Z=function(){var e=[{title:"Transaction ID",field:"transaction_id"},{title:"Date",field:"date",type:"date"},{title:"Account ID",field:"account_id"},{title:"Ref 1",field:"ref_1"},{title:"Ref 2",field:"ref_2"},{title:"Account Name",field:"account_name"},{title:"Type",field:"type",lookup:{Invoice:"Invoice",Payment:"Payment",Credit:"Credit",Memo:"Memo",Adjustment:"Adjustment"}},{title:"Amount",field:"amount",type:"number"},{title:"Currency",field:"currency"},{title:"USD",field:"usd"},{title:"Notes",field:"notes"},{title:"Balance",field:"balance",editable:"never"}],t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),u=Object(o.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)([]),j=Object(o.a)(m,2),E=j[0],g=j[1];return Object(n.useEffect)((function(){Q.get("/transactions").then((function(e){i(e.data)})).catch((function(e){console.log("Error")}))}),[]),r.a.createElement("div",{className:"table"},r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement("div",null,s&&r.a.createElement(W.a,{severity:"error"},E.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(O.a,{title:"Transactions Table",columns:e,data:c,icons:H,editable:{onRowAdd:function(e){return new Promise((function(t){!function(e,t){var a=[];a.length<1?Q.post("/transactions",e).then((function(a){var n=Object(b.a)(c);n.push(e),i(n),t(),window.location.reload(!1),g([]),d(!1)})).catch((function(e){g(["Cannot add data. Server error!"]),d(!0),t()})):(g(a),d(!0),t())}(e,t)}))},onRowDelete:function(e){return new Promise((function(t){!function(e,t){Q.delete("/transactions/"+e._id).then((function(a){var n=Object(b.a)(c),r=e.tableData._id,o=n.filter((function(e){return e._id!==r}));i(Object(b.a)(o)),t(),window.location.reload(!1)})).catch((function(e){g(["Delete failed! Server error"]),d(!0),t()}))}(e,t)}))}},options:{exportButton:!0}}))))},$=a(239),ee=a(225),te=a(27),ae=a(279),ne={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(E.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(w.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(K.a,Object.assign({},e,{ref:t}))}))};var re=function(){var e=[{title:"Transaction ID",field:"transaction_id"},{title:"Date",field:"date",type:"date"},{title:"Account ID",field:"account_id"},{title:"Ref 1",field:"ref_1"},{title:"Ref 2",field:"ref_2"},{title:"Account Name",field:"account_name"},{title:"Type",field:"type",lookup:{Invoice:"Invoice",Payment:"Payment",Credit:"Credit",Memo:"Memo",Adjustment:"Adjustment"}},{title:"Amount",field:"amount",type:"number"},{title:"Currency",field:"currency"},{title:"USD",field:"usd"},{title:"Notes",field:"notes"},{title:"Balance",field:"balance"}],t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),u=Object(o.a)(l,2),s=u[0],b=(u[1],Object(n.useState)([])),m=Object(o.a)(b,2),j=m[0],E=(m[1],Object(n.useState)()),g=Object(o.a)(E,2),w=g[0],h=g[1],p=Object(n.useState)(null),v=Object(o.a)(p,2),R=v[0],y=v[1],S=Object(n.useState)(null),P=Object(o.a)(S,2),D=P[0],C=P[1];return r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"account-id"},r.a.createElement($.a,{required:!0,id:"standard-required",label:"Account ID",onChange:function(e){return h(e.target.value)},value:w}),r.a.createElement(te.a,{utils:ee.default},r.a.createElement(ae.b,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Start Date",value:R,onChange:function(e){return y(e)},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(ae.b,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"End Date",onChange:function(e){return C(e)},value:D,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(d.a,{variant:"contained",color:"primary",href:"#contained-buttons",type:"submit",onClick:function(){Q.post("/transactionsFilter",{accountId:w,startDate:R,endDate:D}).then((function(e){i(e.data)})).catch((function(e){console.log("Error")}))}},"Submit")),r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement("div",null,s&&r.a.createElement(W.a,{severity:"error"},j.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(O.a,{title:"Date View",columns:e,data:c,icons:ne,options:{exportButton:!0}}))))},ce=a(166),ie=a(37),oe=a(130),le=a.n(oe),ue=a(250),fe=a(410),se=a(411),de=a(251),be=(a(537),a(534),a(535),{apiKey:"AIzaSyD4XmQJ-ktvr5HbwtX5_rIGzVGQLWYpLSY",authDomain:"react-table-app.firebaseapp.com",projectId:"react-table-app",storageBucket:"react-table-app.appspot.com",messagingSenderId:"256308264854",appId:"1:256308264854:web:7a34d9b0a9cb99eded67b7"}),me=new(function(){function e(){var t=this;Object(fe.a)(this,e),this.createProfile=function(e,a,n,r,c){return t.db.collection("users").doc(c).set({user_name:e,user_email:a,user_password:n,user_role:r}).catch(console.error)},this.deleteProfile=function(e){t.db.collection("users").doc(e).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))},"undefined"!==typeof window&&(de.a.initializeApp(be),this.auth=de.a.auth(),this.db=de.a.firestore(),this.createProfile=this.createProfile.bind(this))}return Object(se.a)(e,[{key:"isInitialized",value:function(){var e=this;return new Promise((function(t){e.auth.onAuthStateChanged(t)}))}},{key:"login",value:function(){var e=Object(ue.a)(le.a.mark((function e(t,a){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.signInWithEmailAndPassword(t,a).then((function(e){console.log(e),console.log("Success. User Logged In")}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"logout",value:function(){return this.auth.signOut()}},{key:"findUser",value:function(){var e=Object(ue.a)(le.a.mark((function e(t){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.db.collection("users"),e.next=3,a.where("user_email","==",t).get();case 3:if(!(n=e.sent).empty){e.next=7;break}return console.log("No matching documents."),e.abrupt("return");case 7:return e.abrupt("return",n.docs[0].data());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(ue.a)(le.a.mark((function e(t,a,n,r){var c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.createUserWithEmailAndPassword(a,n).then((function(e){return e}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),e}()),Oe=Object(l.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textTransform:"lowercase"}}}));var je=function(){var e=Oe(),t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(),b=Object(o.a)(l,2),m=b[0],O=b[1];return Object(n.useEffect)((function(){me.isInitialized().then((function(e){O(e||!1)}))})),Object(n.useEffect)((function(){m&&!1!==m&&me.findUser(m.email).then((function(e){i(e)}))}),[m]),console.log(c),r.a.createElement("div",{className:"App"},r.a.createElement(u.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(f.a,{style:{display:"flex"},justify:"space-between",alignItems:"center",container:!0,spacing:0,className:e.title},r.a.createElement(f.a,{item:!0},r.a.createElement(ce.b,{activeClassName:"active-link",to:"/accounts",style:{textDecoration:"none",color:"white"}},r.a.createElement(d.a,{color:"inherit",className:"item",style:{textTransform:"initial"}},"accounts")),r.a.createElement(ce.b,{activeClassName:"active-link",to:"/transactions",style:{textDecoration:"none",color:"white"}},r.a.createElement(d.a,{color:"inherit",className:"item",style:{textTransform:"initial"}},"transactions")),r.a.createElement(ce.b,{activeClassName:"active-link",to:"/date-view",style:{textDecoration:"none",color:"white"}},r.a.createElement(d.a,{color:"inherit",className:"item",style:{textTransform:"initial"}},"date view")))))),r.a.createElement(ie.c,null,r.a.createElement(ie.a,{path:"/accounts"},r.a.createElement(Y,null)),r.a.createElement(ie.a,{path:"/transactions"},r.a.createElement(Z,null)),r.a.createElement(ie.a,{path:"/date-view"},r.a.createElement(re,null))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce.a,null,r.a.createElement(je,null))),document.getElementById("root"))}},[[420,1,2]]]);
//# sourceMappingURL=main.11188383.chunk.js.map